{% extends 'base.html.twig' %}

{% block title %}
    Payment overview
{% endblock %}

{% block container %}

{% if not revenue_per_currency %}
    <div class="row">
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">No data imported!</h4>
            <p>Read the readme.md for instructions</p>
        </div>
    </div>
{% endif %}
<div class="row">
    <h2>Total revenue per currency</h2>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Currency</th>
                <th scope="col" style="text-align: right">Revenue</th>
            </tr>
        </thead>
        <tbody>
        {% for result in revenue_per_currency %}
            <tr>
                <td>{{ result.currency }}</td>
                <td style="text-align: right">{{ (result.amount / 100) |format_currency(result.currency) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<div class="row">
    <h2>Total revenue per user</h2>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">User ID</th>
                <th scope="col" style="text-align: right">Revenue</th>
            </tr>
        </thead>
        <tbody>
        {% for result in revenue_per_user %}
            <tr>
                <td>{{ result.userId }}</td>
                <td class="text-right" style="text-align: right">{{ (result.amount / 100) |format_currency(result.currency) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<div class="row">
    <h2>Total revenue per day in EUR</h2>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col" style="text-align: right">Revenue</th>
            </tr>
        </thead>
        <tbody>
        {% for result in revenue_euro_per_day %}
            <tr>
                <td>{{ result.date }}</td>
                <td style="text-align: right">{{ (result.amount / 100) |format_currency('EUR') }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}



